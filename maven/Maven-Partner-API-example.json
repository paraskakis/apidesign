{
  "openapi": "3.1.0",
  "info": {
    "title": "Maven Partner API",
    "version": "1.0.3",
    "description": "API for Maven partners to manage courses, cohorts, students, and retrieve earnings reports. Supports 'Just-In-Time' student creation via upsert on enrollment.",
    "contact": {
      "name": "Maven Partner Support",
      "url": "https://maven.com/partners",
      "email": "partners@maven.com"
    },
    "license": {
      "name": "Maven Partner License",
      "url": "https://maven.com/legal/partner-api"
    }
  },
  "servers": [
    {
      "url": "https://api.maven.com",
      "description": "Production Server"
    }
  ],
  "tags": [
    {
      "name": "Courses",
      "description": "Operations related to Courses and their configurations."
    },
    {
      "name": "Cohorts",
      "description": "Operations related to specific Cohort instances of a Course."
    },
    {
      "name": "Students",
      "description": "Operations related to Student search and history."
    },
    {
      "name": "Ratings",
      "description": "Operations for analyzing Course and Cohort ratings."
    },
    {
      "name": "Earnings",
      "description": "Operations for retrieving financial performance data."
    }
  ],
  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "Authorization",
        "description": "Standard API Key Authentication. Value should be: 'Bearer <your_api_key>'"
      }
    },
    "schemas": {
      "SlugQuery": {
        "type": "string",
        "description": "A slug-based identifier used in query filtering."
      },
      "IntegerIdQuery": {
        "type": "integer",
        "description": "An integer identifier used in query filtering."
      },
      "EmailQuery": {
        "type": "string",
        "format": "email",
        "description": "An email address used in query filtering."
      },
      "DateTimeQuery": {
        "type": "string",
        "format": "date-time",
        "description": "An ISO 8601 date-time string used for time-based filtering."
      },
      "RatingScoreQuery": {
        "type": "integer",
        "minimum": 1,
        "maximum": 5,
        "description": "A rating score (1-5) used for filtering."
      },
      "CohortState": {
        "type": "string",
        "enum": [
          "open",
          "in_progress",
          "past"
        ],
        "description": "The state of the cohort regarding enrollment and timing."
      },
      "EnrollmentStatus": {
        "type": "string",
        "enum": [
          "enrolled",
          "dropped"
        ],
        "description": "The current status of the student in the cohort."
      },
      "EntityType": {
        "type": "string",
        "enum": [
          "student",
          "course",
          "cohort"
        ],
        "description": "The type of entity aggregated in a report."
      },
      "School": {
        "type": "object",
        "description": "Represents a School on the Maven platform.",
        "properties": {
          "id": {
            "$ref": "#/components/schemas/SlugQuery"
          },
          "name": {
            "type": "string",
            "description": "The display name of the school.",
            "example": "Emmanuel Paraskakis"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "Course": {
        "type": "object",
        "description": "Represents a Course offered by a School.",
        "properties": {
          "id": {
            "type": "string",
            "description": "The unique slug identifier for the course. NOT a UUID.",
            "example": "api-pm-fundamentals"
          },
          "name": {
            "type": "string",
            "description": "The title of the course.",
            "example": "API Fundamentals for Product Managers"
          },
          "averageRating": {
            "type": "number",
            "format": "float",
            "description": "The aggregated average rating from 1.0 to 5.0.",
            "example": 4.5
          },
          "price": {
            "type": "number",
            "format": "double",
            "description": "Price of the course in USD.",
            "example": 999.0
          },
          "landingPageUrl": {
            "type": "string",
            "format": "uri",
            "description": "Public URL for the course landing page.",
            "example": "https://maven.com/emmanuel/api-pm-fundamentals"
          }
        },
        "required": [
          "id",
          "name",
          "price",
          "landingPageUrl"
        ]
      },
      "CourseList": {
        "type": "array",
        "description": "A list of courses.",
        "items": {
          "$ref": "#/components/schemas/Course"
        }
      },
      "Cohort": {
        "type": "object",
        "description": "A specific scheduled instance of a Course.",
        "properties": {
          "id": {
            "type": "integer",
            "description": "The sequential integer identifier for the cohort. NOT a UUID.",
            "example": 6
          },
          "name": {
            "type": "string",
            "description": "The display name of the cohort.",
            "example": "Cohort 6"
          },
          "startDate": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 start date and time.",
            "example": "2026-01-08T09:00:00Z"
          },
          "endDate": {
            "type": "string",
            "format": "date-time",
            "description": "ISO 8601 end date and time.",
            "example": "2026-01-17T12:00:00Z"
          }
        },
        "required": [
          "id",
          "name",
          "startDate",
          "endDate"
        ]
      },
      "CohortList": {
        "type": "array",
        "description": "A list of cohorts.",
        "items": {
          "$ref": "#/components/schemas/Cohort"
        }
      },
      "Student": {
        "type": "object",
        "description": "A student user on the platform.",
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "The student's email address, used as their unique identifier.",
            "example": "alice@example.com"
          },
          "name": {
            "type": "string",
            "description": "The full name of the student.",
            "example": "Alice Smith"
          }
        },
        "required": [
          "email",
          "name"
        ]
      },
      "StudentList": {
        "type": "array",
        "description": "A list of students.",
        "items": {
          "$ref": "#/components/schemas/Student"
        }
      },
      "WaitlistUpsertRequest": {
        "type": "object",
        "description": "Payload for adding a student to a waitlist, creating them if necessary.",
        "properties": {
          "studentEmail": {
            "type": "string",
            "format": "email",
            "description": "The student's email."
          },
          "name": {
            "type": "string",
            "description": "The student's full name. Required if creating a new student."
          }
        },
        "required": [
          "studentEmail",
          "name"
        ],
        "example": {
          "studentEmail": "alice@example.com",
          "name": "Alice Smith"
        }
      },
      "CohortEnrollmentRequest": {
        "type": "object",
        "description": "Payload for enrolling a student in a cohort, creating them if necessary.",
        "properties": {
          "studentEmail": {
            "type": "string",
            "format": "email",
            "description": "The unique email identifier for the student."
          },
          "name": {
            "type": "string",
            "description": "The full name of the student. Required if the student is new."
          },
          "status": {
            "$ref": "#/components/schemas/EnrollmentStatus"
          }
        },
        "required": [
          "studentEmail",
          "name",
          "status"
        ],
        "example": {
          "studentEmail": "alice@example.com",
          "name": "Alice Smith",
          "status": "enrolled"
        }
      },
      "EnrollmentHistoryItem": {
        "type": "object",
        "description": "A record of a student's enrollment in a specific cohort.",
        "properties": {
          "courseId": {
            "type": "string",
            "description": "The slug ID of the course."
          },
          "cohortId": {
            "type": "integer",
            "description": "The integer ID of the cohort."
          },
          "status": {
            "$ref": "#/components/schemas/EnrollmentStatus"
          }
        },
        "example": {
          "courseId": "api-pm-fundamentals",
          "cohortId": 6,
          "status": "enrolled"
        }
      },
      "EnrollmentHistoryList": {
        "type": "array",
        "description": "A list of past enrollments.",
        "items": {
          "$ref": "#/components/schemas/EnrollmentHistoryItem"
        }
      },
      "Rating": {
        "type": "object",
        "description": "A rating given by a student for a course execution.",
        "properties": {
          "courseId": {
            "type": "string",
            "description": "The slug ID of the course being rated.",
            "example": "api-pm-fundamentals"
          },
          "cohortId": {
            "type": "integer",
            "description": "The integer ID of the cohort being rated.",
            "example": 6
          },
          "studentEmail": {
            "type": "string",
            "format": "email",
            "description": "The email of the student who provided the rating.",
            "example": "alice@example.com"
          },
          "score": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "description": "The rating score from 1 to 5.",
            "example": 5
          },
          "comment": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional textual feedback provided by the student.",
            "example": "Great course, learned a lot about APIs."
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the rating was submitted.",
            "example": "2026-01-18T10:00:00Z"
          }
        },
        "required": [
          "courseId",
          "cohortId",
          "studentEmail",
          "score",
          "createdAt"
        ]
      },
      "RatingList": {
        "type": "array",
        "description": "A list of ratings.",
        "items": {
          "$ref": "#/components/schemas/Rating"
        }
      },
      "EarningReport": {
        "type": "object",
        "description": "Financial earning data aggregated by context.",
        "properties": {
          "entityType": {
            "$ref": "#/components/schemas/EntityType"
          },
          "entityId": {
            "type": "string",
            "description": "The ID (slug, integer, or email) of the entity.",
            "example": "api-pm-fundamentals"
          },
          "netEarnings": {
            "type": "number",
            "format": "double",
            "description": "Total net earnings in USD.",
            "example": 15000.5
          },
          "currency": {
            "type": "string",
            "description": "Three-letter currency code.",
            "example": "USD"
          }
        },
        "required": [
          "entityType",
          "entityId",
          "netEarnings",
          "currency"
        ]
      },
      "EarningReportList": {
        "type": "array",
        "description": "A list of earning reports.",
        "items": {
          "$ref": "#/components/schemas/EarningReport"
        }
      },
      "ProblemDetails": {
        "type": "object",
        "description": "RFC 9457 standard for error reporting.",
        "properties": {
          "type": {
            "type": "string",
            "format": "uri",
            "description": "A URI reference that identifies the problem type.",
            "example": "https://maven.com/probs/not-found"
          },
          "title": {
            "type": "string",
            "description": "A short, human-readable summary of the problem type.",
            "example": "Resource Not Found"
          },
          "status": {
            "type": "integer",
            "description": "The HTTP status code generated by the origin server for this occurrence of the problem.",
            "example": 404
          },
          "detail": {
            "type": "string",
            "description": "A human-readable explanation specific to this occurrence of the problem.",
            "example": "Course with ID 'unknown-course' was not found."
          },
          "instance": {
            "type": "string",
            "format": "uri",
            "description": "A URI reference that identifies the specific occurrence of the problem.",
            "example": "https://api.maven.com/courses/unknown-course"
          }
        },
        "required": [
          "type",
          "title",
          "status"
        ]
      }
    },
    "headers": {
      "X-RateLimit-Limit": {
        "description": "The number of allowed requests in the current period",
        "schema": {
          "type": "integer"
        }
      },
      "X-RateLimit-Remaining": {
        "description": "The number of remaining requests in the current period",
        "schema": {
          "type": "integer"
        }
      },
      "Retry-After": {
        "description": "The number of seconds to wait before retrying",
        "schema": {
          "type": "integer"
        }
      }
    },
    "parameters": {
      "PageLimit": {
        "name": "limit",
        "in": "query",
        "description": "Maximum number of items to return.",
        "schema": {
          "type": "integer",
          "default": 20
        },
        "example": 20
      },
      "PageOffset": {
        "name": "offset",
        "in": "query",
        "description": "Number of items to skip before returning results.",
        "schema": {
          "type": "integer",
          "default": 0
        },
        "example": 0
      },
      "CourseIdPath": {
        "name": "courseId",
        "in": "path",
        "description": "The slug ID of the course.",
        "required": true,
        "schema": {
          "type": "string"
        },
        "example": "api-pm-fundamentals"
      },
      "CohortIdPath": {
        "name": "cohortId",
        "in": "path",
        "description": "The integer ID of the cohort.",
        "required": true,
        "schema": {
          "type": "integer"
        },
        "example": 6
      },
      "StudentEmailPath": {
        "name": "studentEmail",
        "in": "path",
        "description": "The email address of the student.",
        "required": true,
        "schema": {
          "type": "string",
          "format": "email"
        },
        "example": "alice@example.com"
      }
    },
    "responses": {
      "Error400": {
        "description": "Bad Request - The input was invalid.",
        "headers": {
          "X-RateLimit-Limit": {
            "$ref": "#/components/headers/X-RateLimit-Limit"
          },
          "X-RateLimit-Remaining": {
            "$ref": "#/components/headers/X-RateLimit-Remaining"
          }
        },
        "content": {
          "application/problem+json": {
            "schema": {
              "$ref": "#/components/schemas/ProblemDetails"
            },
            "example": {
              "type": "https://maven.com/probs/bad-request",
              "title": "Bad Request",
              "status": 400,
              "detail": "Invalid email format."
            }
          }
        }
      },
      "Error401": {
        "description": "Unauthorized - API Key is missing or invalid.",
        "headers": {
          "X-RateLimit-Limit": {
            "$ref": "#/components/headers/X-RateLimit-Limit"
          },
          "X-RateLimit-Remaining": {
            "$ref": "#/components/headers/X-RateLimit-Remaining"
          }
        },
        "content": {
          "application/problem+json": {
            "schema": {
              "$ref": "#/components/schemas/ProblemDetails"
            },
            "example": {
              "type": "https://maven.com/probs/unauthorized",
              "title": "Unauthorized",
              "status": 401,
              "detail": "Invalid API Key provided."
            }
          }
        }
      },
      "Error404": {
        "description": "Not Found - The resource does not exist.",
        "headers": {
          "X-RateLimit-Limit": {
            "$ref": "#/components/headers/X-RateLimit-Limit"
          },
          "X-RateLimit-Remaining": {
            "$ref": "#/components/headers/X-RateLimit-Remaining"
          }
        },
        "content": {
          "application/problem+json": {
            "schema": {
              "$ref": "#/components/schemas/ProblemDetails"
            },
            "example": {
              "type": "https://maven.com/probs/not-found",
              "title": "Not Found",
              "status": 404,
              "detail": "Course not found."
            }
          }
        }
      },
      "Error429": {
        "description": "Too Many Requests - Rate limit exceeded.",
        "headers": {
          "X-RateLimit-Limit": {
            "$ref": "#/components/headers/X-RateLimit-Limit"
          },
          "X-RateLimit-Remaining": {
            "$ref": "#/components/headers/X-RateLimit-Remaining"
          },
          "Retry-After": {
            "$ref": "#/components/headers/Retry-After"
          }
        },
        "content": {
          "application/problem+json": {
            "schema": {
              "$ref": "#/components/schemas/ProblemDetails"
            },
            "example": {
              "type": "https://maven.com/probs/rate-limit",
              "title": "Too Many Requests",
              "status": 429,
              "detail": "You have exceeded your request limit."
            }
          }
        }
      }
    }
  },
  "security": [
    {
      "ApiKeyAuth": []
    }
  ],
  "paths": {
    "/courses": {
      "get": {
        "tags": [
          "Courses"
        ],
        "summary": "Retrieve a list of courses",
        "description": "Returns a paginated list of courses filtered by school or instructor.",
        "operationId": "getCourses",
        "parameters": [
          {
            "name": "schoolId",
            "in": "query",
            "description": "Filter courses by School slug ID.",
            "schema": {
              "$ref": "#/components/schemas/SlugQuery"
            }
          },
          {
            "name": "instructorId",
            "in": "query",
            "description": "Filter courses by Instructor slug ID.",
            "schema": {
              "$ref": "#/components/schemas/SlugQuery"
            }
          },
          {
            "$ref": "#/components/parameters/PageLimit"
          },
          {
            "$ref": "#/components/parameters/PageOffset"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved courses.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CourseList"
                },
                "example": [
                  {
                    "id": "api-pm-fundamentals",
                    "name": "API Fundamentals for Product Managers",
                    "price": 999.0,
                    "landingPageUrl": "https://maven.com/emmanuel/api-pm-fundamentals"
                  }
                ]
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/courses/{courseId}": {
      "get": {
        "tags": [
          "Courses"
        ],
        "summary": "Get course details",
        "description": "Returns detailed information about a specific course, including metrics.",
        "operationId": "getCourseById",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved course details.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Course"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "404": {
            "$ref": "#/components/responses/Error404"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/courses/{courseId}/waitlist": {
      "get": {
        "tags": [
          "Courses"
        ],
        "summary": "Get course waitlist",
        "description": "Retrieves a paginated list of students on the waitlist for a specific course.",
        "operationId": "getCourseWaitlist",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          },
          {
            "$ref": "#/components/parameters/PageLimit"
          },
          {
            "$ref": "#/components/parameters/PageOffset"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved waitlist.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentList"
                },
                "example": [
                  {
                    "email": "alice@example.com",
                    "name": "Alice Smith"
                  }
                ]
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      },
      "post": {
        "tags": [
          "Courses"
        ],
        "summary": "Upsert student to waitlist",
        "description": "Adds a student to the waitlist. If the student does not exist, they will be created using the provided name and email (Upsert).",
        "operationId": "addStudentToWaitlist",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          }
        ],
        "requestBody": {
          "description": "Student information for upsert.",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WaitlistUpsertRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Student upserted and added to waitlist.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/Error400"
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/courses/{courseId}/waitlist/{studentEmail}": {
      "delete": {
        "tags": [
          "Courses"
        ],
        "summary": "Remove student from waitlist",
        "description": "Removes a specific student from the course waitlist.",
        "operationId": "removeStudentFromWaitlist",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          },
          {
            "$ref": "#/components/parameters/StudentEmailPath"
          }
        ],
        "responses": {
          "204": {
            "description": "Student successfully removed.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "404": {
            "$ref": "#/components/responses/Error404"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/courses/{courseId}/cohorts": {
      "get": {
        "tags": [
          "Cohorts"
        ],
        "summary": "List cohorts",
        "description": "Returns a list of cohorts for a course, optionally filtered by state.",
        "operationId": "getCohorts",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          },
          {
            "name": "state",
            "in": "query",
            "description": "Filter cohorts by state (open, in_progress, past).",
            "schema": {
              "$ref": "#/components/schemas/CohortState"
            },
            "example": "open"
          },
          {
            "$ref": "#/components/parameters/PageLimit"
          },
          {
            "$ref": "#/components/parameters/PageOffset"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved cohorts.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CohortList"
                },
                "example": [
                  {
                    "id": 6,
                    "name": "Cohort 6",
                    "startDate": "2026-01-08T09:00:00Z",
                    "endDate": "2026-01-17T12:00:00Z"
                  }
                ]
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/courses/{courseId}/cohorts/{cohortId}/students": {
      "get": {
        "tags": [
          "Cohorts"
        ],
        "summary": "List cohort students",
        "description": "Returns students associated with a cohort (enrolled or dropped).",
        "operationId": "getCohortStudents",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          },
          {
            "$ref": "#/components/parameters/CohortIdPath"
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by status (enrolled, dropped).",
            "schema": {
              "$ref": "#/components/schemas/EnrollmentStatus"
            },
            "example": "enrolled"
          },
          {
            "$ref": "#/components/parameters/PageLimit"
          },
          {
            "$ref": "#/components/parameters/PageOffset"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved students.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentList"
                },
                "example": [
                  {
                    "email": "alice@example.com",
                    "name": "Alice Smith"
                  }
                ]
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      },
      "post": {
        "tags": [
          "Cohorts"
        ],
        "summary": "Upsert student enrollment",
        "description": "Enrolls a student into the cohort. If the student does not exist, they will be created using the provided name and email (Upsert).",
        "operationId": "updateCohortStudent",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          },
          {
            "$ref": "#/components/parameters/CohortIdPath"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CohortEnrollmentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Enrollment updated successfully.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/Error400"
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/courses/{courseId}/cohorts/{cohortId}/students/{studentEmail}": {
      "delete": {
        "tags": [
          "Cohorts"
        ],
        "summary": "Remove student from cohort",
        "description": "Completely removes a student record from the cohort.",
        "operationId": "removeStudentFromCohort",
        "parameters": [
          {
            "$ref": "#/components/parameters/CourseIdPath"
          },
          {
            "$ref": "#/components/parameters/CohortIdPath"
          },
          {
            "$ref": "#/components/parameters/StudentEmailPath"
          }
        ],
        "responses": {
          "204": {
            "description": "Student removed successfully.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "404": {
            "$ref": "#/components/responses/Error404"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/students": {
      "get": {
        "tags": [
          "Students"
        ],
        "summary": "Search students",
        "description": "Find a student by email to see their interactions.",
        "operationId": "searchStudents",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "description": "Exact match email search.",
            "required": true,
            "schema": {
              "$ref": "#/components/schemas/EmailQuery"
            },
            "example": "alice@example.com"
          }
        ],
        "responses": {
          "200": {
            "description": "Student found.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "404": {
            "$ref": "#/components/responses/Error404"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/students/{studentEmail}/enrollments": {
      "get": {
        "tags": [
          "Students"
        ],
        "summary": "Get student history",
        "description": "Returns all past enrollments for a specific student.",
        "operationId": "getStudentEnrollments",
        "parameters": [
          {
            "$ref": "#/components/parameters/StudentEmailPath"
          },
          {
            "$ref": "#/components/parameters/PageLimit"
          },
          {
            "$ref": "#/components/parameters/PageOffset"
          }
        ],
        "responses": {
          "200": {
            "description": "History retrieved successfully.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EnrollmentHistoryList"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/ratings": {
      "get": {
        "tags": [
          "Ratings"
        ],
        "summary": "Search ratings",
        "description": "Global search for ratings filtered by course, cohort, or student.",
        "operationId": "getRatings",
        "parameters": [
          {
            "name": "courseId",
            "in": "query",
            "description": "Filter by Course Slug ID.",
            "schema": {
              "$ref": "#/components/schemas/SlugQuery"
            },
            "example": "api-pm-fundamentals"
          },
          {
            "name": "cohortId",
            "in": "query",
            "description": "Filter by Cohort Integer ID.",
            "schema": {
              "$ref": "#/components/schemas/IntegerIdQuery"
            },
            "example": 6
          },
          {
            "name": "studentEmail",
            "in": "query",
            "description": "Filter by Student Email.",
            "schema": {
              "$ref": "#/components/schemas/EmailQuery"
            },
            "example": "alice@example.com"
          },
          {
            "name": "minRating",
            "in": "query",
            "description": "Filter results with a score greater than or equal to this value.",
            "schema": {
              "$ref": "#/components/schemas/RatingScoreQuery"
            }
          },
          {
            "name": "maxRating",
            "in": "query",
            "description": "Filter results with a score less than or equal to this value.",
            "schema": {
              "$ref": "#/components/schemas/RatingScoreQuery"
            }
          },
          {
            "$ref": "#/components/parameters/PageLimit"
          },
          {
            "$ref": "#/components/parameters/PageOffset"
          }
        ],
        "responses": {
          "200": {
            "description": "Ratings retrieved successfully.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RatingList"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    },
    "/earnings": {
      "get": {
        "tags": [
          "Earnings"
        ],
        "summary": "Get earnings reports",
        "description": "Retrieve calculated earnings sliced by student, course, or cohort.",
        "operationId": "getEarnings",
        "parameters": [
          {
            "name": "studentEmail",
            "in": "query",
            "description": "Get total earnings for a specific student.",
            "schema": {
              "$ref": "#/components/schemas/EmailQuery"
            }
          },
          {
            "name": "courseId",
            "in": "query",
            "description": "Get total earnings for a specific course.",
            "schema": {
              "$ref": "#/components/schemas/SlugQuery"
            }
          },
          {
            "name": "cohortId",
            "in": "query",
            "description": "Get total earnings for a specific cohort.",
            "schema": {
              "$ref": "#/components/schemas/IntegerIdQuery"
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "description": "Start of the reporting period.",
            "schema": {
              "$ref": "#/components/schemas/DateTimeQuery"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "End of the reporting period.",
            "schema": {
              "$ref": "#/components/schemas/DateTimeQuery"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Earnings report generated.",
            "headers": {
              "X-RateLimit-Limit": {
                "$ref": "#/components/headers/X-RateLimit-Limit"
              },
              "X-RateLimit-Remaining": {
                "$ref": "#/components/headers/X-RateLimit-Remaining"
              }
            },
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EarningReportList"
                }
              }
            }
          },
          "401": {
            "$ref": "#/components/responses/Error401"
          },
          "429": {
            "$ref": "#/components/responses/Error429"
          }
        }
      }
    }
  }
}